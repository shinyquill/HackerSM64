#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"

#include "game/level_update.h"

#include "levels/scripts.h"

#include "actors/common1.h"

/* Fast64 begin persistent block [includes] */
/* Fast64 end persistent block [includes] */

#include "make_const_nonconst.h"
#include "levels/bob/header.h"

/* Fast64 begin persistent block [scripts] */
/* Fast64 end persistent block [scripts] */

const LevelScript level_bob_entry[] = {
	INIT_LEVEL(),
	LOAD_YAY0(0x07, _bob_segment_7SegmentRomStart, _bob_segment_7SegmentRomEnd), 
	LOAD_YAY0_TEXTURE(0x09, _generic_yay0SegmentRomStart, _generic_yay0SegmentRomEnd), 
	LOAD_YAY0(0x0A, _water_skybox_yay0SegmentRomStart, _water_skybox_yay0SegmentRomEnd), 
	LOAD_YAY0(0x05, _group3_yay0SegmentRomStart, _group3_yay0SegmentRomEnd), 
	LOAD_RAW(0x0C, _group3_geoSegmentRomStart, _group3_geoSegmentRomEnd), 
	LOAD_YAY0(0x06, _group14_yay0SegmentRomStart, _group14_yay0SegmentRomEnd), 
	LOAD_RAW(0x0D, _group14_geoSegmentRomStart, _group14_geoSegmentRomEnd), 
	LOAD_YAY0(0x08, _common0_yay0SegmentRomStart, _common0_yay0SegmentRomEnd), 
	LOAD_RAW(0x0F, _common0_geoSegmentRomStart, _common0_geoSegmentRomEnd), 
	LOAD_MIO0(0x7, _bob_segment_7SegmentRomStart, _bob_segment_7SegmentRomEnd), 
	LOAD_MIO0(0xa, _clouds_skybox_mio0SegmentRomStart, _clouds_skybox_mio0SegmentRomEnd), 
	LOAD_MIO0(0xb, _effect_mio0SegmentRomStart, _effect_mio0SegmentRomEnd), 
	ALLOC_LEVEL_POOL(),
	MARIO(MODEL_MARIO, 0x00000001, bhvMario), 
	JUMP_LINK(script_func_global_1), 
	JUMP_LINK(script_func_global_4), 
	JUMP_LINK(script_func_global_15), 
	LOAD_MODEL_FROM_GEO(MODEL_BOB_BUBBLY_TREE, bubbly_tree_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_BOB_CHAIN_CHOMP_GATE, bob_geo_000440), 
	LOAD_MODEL_FROM_GEO(MODEL_BOB_SEESAW_PLATFORM, bob_geo_000458), 
	LOAD_MODEL_FROM_GEO(MODEL_BOB_BARS_GRILLS, bob_geo_000470), 

	/* Fast64 begin persistent block [level commands] */
	/* Fast64 end persistent block [level commands] */

	AREA(1, bob_area_1),
		WARP_NODE(0x0A, LEVEL_BOB, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(0xF0, LEVEL_BOB, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(0xF1, LEVEL_BOB, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(0xFF, LEVEL_CASTLE_COURTYARD, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(0xFE, LEVEL_CASTLE, 0x01, 0x0C, WARP_NO_CHECKPOINT),
		WARP_NODE(0xC1, LEVEL_BOB, 0x01, 0xC1, WARP_CHECKPOINT),
		WARP_NODE(0xC2, LEVEL_BOB, 0x01, 0xC2, WARP_CHECKPOINT),
		WARP_NODE(0xC3, LEVEL_BOB, 0x01, 0xC3, WARP_CHECKPOINT),
		OBJECT(MODEL_NONE, 10102, 6166, -14704, 0, -90, 0, 0x00C10000, bhvInstantActiveWarp),
		OBJECT(MODEL_NONE, 11307, 7964, 2243, 0, 9, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 11532, 6854, -6599, 0, -35, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 7954, 5468, -15330, 0, -90, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 7131, 4002, -5524, 0, 0, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 6676, 5468, -12253, 0, 30, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 11477, 9389, 10344, 0, 0, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_MUSHROOM_TOP, 11039, 7187, -319, 0, 0, 0, 0x02010000, bhvMushroomTop),
		OBJECT(MODEL_MUSHROOM_TOP, 12005, 4971, -13079, 25, 135, 0, 0x02010100, bhvMushroomTop),
		OBJECT(MODEL_MUSHROOM_TOP, 14363, 5239, -15346, 25, -95, 0, 0x02010100, bhvMushroomTop),
		OBJECT(MODEL_MUSHROOM_TOP, 11094, 5456, -15358, 0, 0, 0, 0x02000000, bhvMushroomTop),
		OBJECT(MODEL_MUSHROOM_TOP, 13092, 5296, -11597, 0, 0, 0, 0x01000000, bhvMushroomTop),
		OBJECT(MODEL_YELLOW_COIN, 11091, 8388, -1704, 0, 0, 0, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 11091, 8538, -1896, 0, 0, 0, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 12839, 8388, -13930, 0, -46, 0, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 11091, 8538, -2089, 0, 0, 0, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 11091, 8538, -2268, 0, 0, 0, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 11091, 8388, -2454, 0, 0, 0, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 12978, 8538, -14063, 0, -46, 0, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 13117, 8538, -14196, 0, -46, 0, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 13246, 8538, -14320, 0, -46, 0, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 13381, 8388, -14448, 0, -46, 0, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_NONE, 11473, 10581, 14403, 0, 180, 0, 0x000A0000, bhvInstantActiveWarp),
		OBJECT(MODEL_NONE, 1812, 1339, -10796, 0, 168, 0, 0x00C20000, bhvInstantActiveWarp),
		OBJECT(MODEL_NONE, 7548, 1963, 4205, 0, 0, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 7242, 1270, 12016, 0, -73, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -1032, 1561, 8225, 0, 155, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 1154, 3461, 312, 0, 174, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 2198, 986, -12649, 0, 142, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -752, 1561, 5825, 0, 166, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 655, 1561, 6139, 0, 166, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -15, 1157, 5935, 0, 155, 0, (0x02 << 16), bhvCoinFormation),
		OBJECT(MODEL_DRAGON_COIN, -15, 1157, 5935, 0, 155, 0, 0x00000000, bhvDragonCoin),
		OBJECT(MODEL_MUSHROOM_TOP, 6349, 1413, 14088, 25, -112, 0, 0x02020100, bhvMushroomTop),
		OBJECT(MODEL_MUSHROOM_TOP, 4610, 413, 12669, 25, 44, 0, 0x02010100, bhvMushroomTop),
		OBJECT(MODEL_MUSHROOM_TOP, 982, -135, 1771, 25, 15, 0, 0x02020100, bhvMushroomTop),
		OBJECT(MODEL_MUSHROOM_TOP, 1822, 1465, 5112, 25, -123, 0, 0x01020100, bhvMushroomTop),
		OBJECT(MODEL_MUSHROOM_TOP, -1157, 2665, 3478, 25, 126, 0, 0x02020100, bhvMushroomTop),
		OBJECT(MODEL_TRUNK, 1207, 2673, -5366, -10, 0, 0, 0x00000000, bhvRotatingTrunk),
		OBJECT(MODEL_NONE, 13334, -2021, -5997, 0, 5, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 12876, -2263, -3704, 0, 5, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 13292, -2979, 1643, 0, 5, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 9853, -4056, 10735, 0, -67, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 1643, -5201, 11649, 0, -89, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 9714, -2979, 5072, 0, -147, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 4159, -2979, 3769, 0, -112, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -1709, -2979, 1989, 0, -125, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 10299, 2, -13581, 0, 78, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 7084, -6267, 11670, 0, 0, 0, 0x00000000, bhvJetStream),
		OBJECT(MODEL_MUSHROOM_TOP, 12916, -1768, -9354, 0, 0, 0, 0x01000000, bhvMushroomTop),
		OBJECT(MODEL_MUSHROOM_TOP, 13858, -2875, -1628, 0, 0, 0, 0x01000000, bhvMushroomTop),
		OBJECT(MODEL_MUSHROOM_TOP, 12248, -3478, 5380, 25, 28, 0, 0x01000100, bhvMushroomTop),
		OBJECT(MODEL_MUSHROOM_TOP, 13373, -3887, 7135, 25, -56, 0, 0x01010100, bhvMushroomTop),
		OBJECT(MODEL_MUSHROOM_TOP, 11504, -3998, 8281, 25, -21, 0, 0x01000100, bhvMushroomTop),
		OBJECT(MODEL_MUSHROOM_TOP, 8185, -4665, 11503, 0, 0, 0, 0x01000000, bhvMushroomTop),
		OBJECT(MODEL_MUSHROOM_TOP, 13088, -1969, -8055, 0, 0, 0, 0x01000000, bhvMushroomTop),
		OBJECT(MODEL_MUSHROOM_TOP, 11274, -3998, 7810, 25, -148, 0, 0x000100, bhvMushroomTop),
		OBJECT(MODEL_BANANA, -5548, -6719, 2958, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -6000, -6700, 3500, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -6502, -7346, -2235, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -6085, -7344, -4461, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -5298, -7344, -7193, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -6319, -7344, -7918, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -5501, -7344, -9296, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -13065, -8844, -7921, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -13507, -8844, -7361, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -13069, -8945, -6057, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -12304, -8945, -3881, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -14188, -8945, -3053, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -12840, -9244, -137, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -12265, -9448, 2394, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -13360, -9542, 3505, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -12328, -9648, 4924, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -10972, -9843, 7194, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -11839, -9743, 6099, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -12036, -9944, 8267, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -6615, -7344, -5565, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -5577, -7344, -6509, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -12999, -8628, -9140, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -14218, -8779, -9577, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -12075, -8945, -4831, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -14062, -8945, -3904, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -13658, -8945, -3268, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -13532, -8945, -1128, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -12307, -8945, -1108, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -13069, -8945, 1601, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -11942, -8945, 1601, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -12391, -8945, 4415, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -11275, -8945, 5722, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_BANANA, -11427, -8945, 6511, 0, 10, 0, 0x00000000, bhvBanana),
		OBJECT(MODEL_NONE, -3458, -5581, 11671, 0, -98, 0, 0x00C30000, bhvInstantActiveWarp),
		OBJECT(MODEL_NONE, -5515, -6082, 10710, 0, -156, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -5841, -5839, 4502, 0, 178, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -5864, -6744, -8808, 0, 171, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -3679, -5507, -6944, 0, 171, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -3794, -5507, -2698, 0, -178, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -3775, -5507, -10786, 0, -172, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -10049, -8198, -14627, 0, -94, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -13315, -8631, -8651, 0, -6, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -12597, -9158, 499, 0, -3, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -11416, -9562, 7031, 0, -4, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -5881, -5839, 622, 0, -178, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -6730, -5839, -6363, 0, -178, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -5493, -5839, -6312, 0, -178, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -12051, -8631, -3294, 0, 1, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_DRAGON_COIN, -3953, -6197, -11389, 0, -91, 0, 0x00000000, bhvDragonCoin),
		OBJECT(MODEL_NONE, -12339, -9827, 9673, 0, -180, 0, 0x00000000, bhvHiddenDragonCoin),
		OBJECT(MODEL_RED_CIRCLE, -13360, -8322, -10364, 0, -179, 0, 0x00000000, bhvRedRing),
		OBJECT(MODEL_RED_COIN, -12362, -9648, 5083, 0, -180, 0, 0x00000000, bhvHiddenRedCoin),
		OBJECT(MODEL_RED_COIN, -13167, -8897, -6967, 0, -180, 0, 0x00000000, bhvHiddenRedCoin),
		OBJECT(MODEL_RED_COIN, -13842, -9010, -4708, 0, -180, 0, 0x00000000, bhvHiddenRedCoin),
		OBJECT(MODEL_RED_COIN, -13804, -9118, -2469, 0, -180, 0, 0x00000000, bhvHiddenRedCoin),
		OBJECT(MODEL_RED_COIN, -12781, -9229, -732, 0, -180, 0, 0x00000000, bhvHiddenRedCoin),
		OBJECT(MODEL_RED_COIN, -12317, -9434, 1179, 0, -180, 0, 0x00000000, bhvHiddenRedCoin),
		OBJECT(MODEL_RED_COIN, -12916, -9630, 3901, 0, -180, 0, 0x00000000, bhvHiddenRedCoin),
		OBJECT(MODEL_RED_COIN, -11024, -9794, 6276, 0, -180, 0, 0x00000000, bhvHiddenRedCoin),
		TERRAIN(bob_area_1_collision),
		ROOMS(bob_area_1_collision_rooms),
		MACRO_OBJECTS(bob_area_1_macro_objs),
		SET_BACKGROUND_MUSIC(0x00, SEQ_JUNGLE),
		TERRAIN_TYPE(TERRAIN_SLIDE),
		/* Fast64 begin persistent block [area commands] */
		/* Fast64 end persistent block [area commands] */
	END_AREA(),

	FREE_LEVEL_POOL(),
	MARIO_POS(1, 0, 0, 0, 0),
	CALL(0, lvl_init_or_update),
	CALL_LOOP(1, lvl_init_or_update),
	CLEAR_LEVEL(),
	SLEEP_BEFORE_EXIT(1),
	EXIT(),
};
